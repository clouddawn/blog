# 什么是首屏优化？

首屏优化是指，用户从打开页面到首屏主要内容渲染完成的时间优化。它关注的不是“完全加载完成”，而是“用户最新看到的部分尽快呈现”，从而提升体验和留存。

常见的手段主要分为三类：

**资源加载层面：**

* 图片懒加载
* 通过路由懒加载、组件懒加载拆分 js，只加载首屏必要代码。

**渲染层面：**

* 使用骨架屏或 Loading 占位，提升用户感知体验。
* 对关键 CSS 做内联，避免阻塞渲染。

**交互层面：**

* 首屏数据走缓存或预请求，避免加载等待。
  * 缓存：把首屏数据存到 localStorage / Pinia 中，下次访问直接读取缓存，减少网络请求。
  * 预请求：在应用启动或者路由守卫里提前请求接口，把数据存入 store，这样用户访问首页时，数据已经准备好。
    * 在用户访问首页前，例如在 APP.vue onMounted 或者路由守卫中提前请求接口。
  * 分包加载：小程序端可以只打包首屏资源，非首屏页面分包加载

