# 前端如何解决跨域问题？

前端跨域是由于浏览器同源策略限制。常用解决方案有：

* **CORS：**服务器设置响应头允许跨域。
* **JSONP：**通过 `<script>` 请求，老项目兼容，只支持 GET。
* **代理：**开发环境通过本地服务器转发请求。
* **iframe + postMessage：**父子页面安全通信

## CORS（跨域资源共享）

* 服务器在响应头添加允许跨域的字段，例如：

  ```js
  Access-Control-Allow-Origin: *
  Access-Control-Methods: GET, POST
  Access-Control-Headers: X-Custom-Header
  ```

* 支持携带 Cookie 的跨域请求，需要：
  * 前端 `withCredentials: true`
  * 服务器 `Access-Control-Allow-Credentials: true`
* 优点： 标准、安全、支持多种请求方法
* 缺点：需要服务器配合

## JSONP

* 利用 `<script>` 标签不受同源策略限制，只支持 GET 请求
* 服务器返回 JavaScript 代码调用回调函数
* 优点：兼容旧浏览器
* 缺点：仅支持GET，安全性较低

## 代理（Proxy）

* 在开发环境或服务器端通过本地代理转发请求：
  * 例如 Vite devServer、Weback devServer 配置代理
* 优点：无需修改后端，开发方便
* 缺点：生产环境需要额外部署

## iframe + postMessage

* 父子页面跨域通信，通过 `window.postMessage` 传递数据
* 优点：安全、可双向通信
* 缺点：只适合嵌入第三方页面的通信









































