# 为什么全局状态管理需要单例模式？

在前端项目里，全局状态管理（比如 Vuex、Pinia）通常采用单例模式，主要原因是保证状态的唯一性和一致性。

如果没有单例模式，不同组件可能会创建各自的状态副本，导致数据不一致，修改后的值无法同步到其他组件。通过单例模式，我们就能确保项目中只有一个全局状态实例，所有组件都共享这份状态。

这样可以：

1. 保证唯一性：所有组件访问的 store 是同一个实例，避免状态混乱。
2. 方便共享：组件之间不需要层层传递 props，就能直接读取或修改全局状态。
3. 统一管理：状态更新有统一的入口（mutation / action），可控性和可维护性更强。

```js
// 伪代码实例
class Store {
    constructor(){
        if(Store.instance) return Store.instance;
        this.state = {
            count: 0
        }
        Store.instance = this;
    }
}

const store1 = new Store();
const store2 = new Store();

const.log(store1 === store2); // true
```

在实际项目中，这种设计避免了多个组件各自维护状态的情况，保证了整个应用的数据源是一致的。



















