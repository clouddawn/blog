# 为什么 AI 尤其擅长生成重复性代码？

这是 AI 的工作原理和训练数据的本质决定的。

## 1. 模式识别与统计概率

**核心原理：** AI 模型（如 GitHub Copilot 背后的 Codex 模型）本质上是一个巨大的“模式匹配机器”。它通过在训练阶段“阅读”了海量的公开代码（例如 GitHub 上的所有开源项目），学会了代码中单词、符号和代码块之间的统计规律。

- **对于重复性代码**：像 CRUD 操作、表单验证、工具函数这类代码，在成千上万个项目中反复出现。它们的**结构高度相似，词汇（关键字、API 名称）高度统一**。
  - 当你在 Vue 3 中开始输入 `const userList = ref([])` 和 `const loading = ref(false)`，AI 会立刻识别出这是一个“从后端获取数据列表”的经典模式。它根据统计概率，下一个最可能出现的代码块就是 `onMounted(() => { ... })` 和一个 `fetch` 或 `axios` 调用。因为它已经在无数个地方看到过这种组合。

好比一个饱读诗书的人，你刚说出“床前明月光”，他就能不假思索地接上“疑是地上霜”。不是因为他在创作，而是因为他知道这个模式出现的概率极高。

## 2. 训练数据的丰富性

**核心原理：** AI 的“知识”完全来源于它的训练数据。重复性代码正是训练数据中最常见、最密集的部分。

- **CRUD 页面**：几乎每一个 Web 应用都有 CRUD。在训练数据中，`GET /users`、`POST /users`、`PUT /users/:id`、`DELETE /users/:id` 这些模式以及与 Vue/React 组件的结合方式，出现了数百万次。AI 已经将这些模式“内化”为一种条件反射。
- **表单验证**：无论是使用 `vuelidate`、`vee-validate` 还是自定义规则，验证“邮箱格式”、“必填字段”、“密码强度”的逻辑和正则表达式都极其相似。AI 见过所有这些变体，并能选出最通用、最常见的一种提供给你。
- **工具函数**：像 `formatDate`、`debounce`、`deepClone` 这样的函数，有近乎标准化的实现。AI 不需要“发明”它们，只需要从记忆中“召回”一个最普遍的版本。

## 3. 任务的定义明确，输入输出清晰

**核心原理：** 重复性编程任务通常有非常明确的“任务描述”和“成功标准”。

- **例子：一个求和函数**
  - **任务描述（给 AI 的提示）**： “写一个 JavaScript 函数，接收一个数字数组，返回它们的和。”
  - **成功标准**： 函数能正确计算 `[1, 2, 3]` 得到 `6`。
  - 这个任务的**输入（数字数组）** 和**输出（数字和）** 都非常清晰，没有歧义。AI 只需要将自然语言描述映射到它学过的、最可能的代码语法上即可。

相比之下，一个模糊的任务，如“写一个能让用户感到愉悦的注册流程”，AI 就难以处理，因为“愉悦”是主观的，输入和输出都不明确。

## 4. 有限的上下文窗口

**核心原理：** AI 在生成代码时，主要依赖于你提供的“上下文”（即你当前打开的文件、你刚输入的代码、光标前后的内容等）。重复性代码通常只需要一个非常有限的上下文就能被完美推断。

- 当你在一个 Vue 组件文件的 `<script setup>` 里输入 `const form = reactive({ name: ''， email: '' })` 时，AI 的上下文已经足够它预测你接下来很可能需要：
  1. 一个 `const rules = { ... }` 对象。
  2. 一个 `const handleSubmit = () => { ... }` 函数。
  3. 在 `<template>` 中对应的 `<el-form>` 和 `<el-input>` 组件。

它不需要理解你整个项目的业务逻辑，只需要根据最近的几行代码和文件类型，就能做出高概率的、正确的补全。

## 对比：为什么 AI 不擅长系统架构和复杂业务逻辑？

理解了它为什么擅长，也就自然理解了它的局限：

1. **缺乏真正的理解**：AI 不理解“用户”、“订单”这些业务概念的真实含义。它只知道这些词汇经常在代码中一起出现。它无法像人类一样进行业务领域的抽象和建模。
2. **上下文限制**：设计一个系统架构需要考虑整个代码库的模块、团队规范、未来的可扩展性。这远远超出了 AI 有限的上下文窗口。
3. **创新与模糊性**：对于没有标准答案、需要权衡和创新的任务（例如“设计一个能支持万人同时编辑的实时协作算法”），AI 无法从训练数据中找到一种“最可能”的模式，因为它可能不存在或极其稀少。
4. **业务特定知识**：你的公司独特的业务规则和流程，在公开训练数据中几乎不存在。AI 无法为你生成这些代码，除非你在提示词中提供极其详尽的描述。

## 总结

AI 擅长生成重复性代码，是因为这些代码在它的训练数据中**模式固定、出现频率极高、上下文依赖小、输入输出明确**。AI 的本质是 **“基于海量数据的统计概率预测”** ，而重复性代码正好是这种预测模型最容易命中目标的领域。

AI 时代，程序员的价值在于处理那些 **模式不固定、需要深度理解、依赖广泛上下文和创造性思维** 的任务。你将从一个代码的“打字员”，升级为 AI 的“指挥官”，负责给它分派它擅长的、明确的小任务，并亲自操刀它不擅长的、宏观而复杂的设计。