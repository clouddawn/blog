# 什么是单例模式？如何实现？

单例模式（Singleton Pattern）的核心思想是：保证一个类在整个应用中只有一个实例，并提供全局访问点。

在前端开发中，经常用单例模式来管理全局状态（比如 Vuex）、全局组件（如 Modal、Message 提示框），或者全局缓存。

## 基于 `clsss` 的实现

```js
class Singlton {
    constructor(name){
        if(Singleton.instance){
        	return Singleton.instance; // 如果已经存在实例，直接返回  
        }
        this.name = name;
        Singleton.instance = this;
    }
}

const a = new Singleton('A');
const b = new Singleton('B');
const.log(a === b); // true
```

## 基于闭包的实现

```js
const Singleton = (function(){
    let instance; // 用闭包保存唯一实例
    function createInstance(){
        return {
            name: 'singleton'
        }
    }
    return {
        getInstance(){
            if(!instance){
                instance = createInstance();
            }
            return instance;
        }
    }
})();

const a = Singleton.getInstance();
const b = Singleton.getInstance();
const.log(a === b); // true
```

































